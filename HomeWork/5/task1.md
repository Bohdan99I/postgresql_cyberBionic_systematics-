# Конспект лекції 5: Проектування баз даних. DDL --- керування базами даних і таблицями

## Основні теми

-   Проектування БД
-   Етапи проектування (концептуальний, логічний, фізичний)
-   Нормалізація (1NF, 2NF, 3NF)
-   Мови визначення даних (DDL) у PostgreSQL

------------------------------------------------------------------------

## 1. Проектування баз даних

Проектування БД --- ключовий етап розробки, який визначає структуру
даних і зв'язки між ними.\
Agile-підхід не передбачає тривалого етапу проєктування, тому розробники
мають базово розуміти принципи моделювання даних.

### Основні принципи

-   Кожен запис --- конкретний об'єкт, подія або абстракція.
-   Поле --- властивість об'єкта.
-   Таблиця --- набір записів одного типу.
-   Важливо уникати дублювання, невалідних і суперечливих даних.

------------------------------------------------------------------------

## 2. Етапи проектування БД

### Концептуальний етап

-   Визначення сутностей та зв'язків.
-   Створення ER-діаграми.
-   Узгодження з користувачами (Use Cases).

### Логічний етап

-   Формування логічної схеми.
-   Визначення типів даних, ключів і обмежень.
-   Нормалізація даних.

### Фізичний етап

-   Реалізація схеми в СУБД.
-   Оптимізація структури (індекси, кластеризація, розділення).
-   Налаштування продуктивності.

------------------------------------------------------------------------

## 3. Нормалізація бази даних

### Визначення

-   **Нормалізація** --- процес зменшення надмірності даних.
-   **Нормальна форма (НФ)** --- рівень організованості даних.

### Перша нормальна форма (1NF)

-   Кожне поле містить лише одне атомарне значення.
-   Унікальні назви стовпців.
-   Відсутність дублікатів рядків.

### Друга нормальна форма (2NF)

-   Виконано умови 1NF.
-   Усі неключові поля залежать від усього первинного ключа.

### Третя нормальна форма (3NF)

-   Виконано умови 2NF.
-   Неключові атрибути не залежать від інших неключових атрибутів.

------------------------------------------------------------------------

## 4. DDL --- Data Definition Language

### Основні команди PostgreSQL

``` sql
CREATE DATABASE my_new_db;
DROP DATABASE my_new_db;
CREATE TABLE author (...);
ALTER TABLE author ADD COLUMN first_name VARCHAR(50);
DROP TABLE book;
TRUNCATE TABLE publisher;
```

### Команди для зміни таблиць

-   `ALTER TABLE ... ADD COLUMN`
-   `ALTER TABLE ... DROP COLUMN`
-   `ALTER TABLE ... RENAME TO`
-   `ALTER TABLE ... ALTER COLUMN`
-   `DROP TABLE`

### Первинні та зовнішні ключі

-   `PRIMARY KEY` --- унікальний ідентифікатор рядка.
-   `FOREIGN KEY` --- посилання на іншу таблицю.
-   `UNIQUE`, `NOT NULL` --- додаткові обмеження цілісності даних.

------------------------------------------------------------------------

## 5. Рекомендації

-   Уникайте надлишкових або композитних ключів.
-   Використовуйте сурогатні (штучні) ключі при необхідності.
-   Застосовуйте нормалізацію до 3NF.
-   Денормалізацію використовуйте лише для оптимізації швидкодії.

------------------------------------------------------------------------

**Висновок:**\
Проектування баз даних --- це процес побудови логічної структури даних,
який забезпечує ефективність, цілісність і масштабованість системи.\
DDL у PostgreSQL дозволяє створювати, змінювати та видаляти об'єкти БД,
формуючи її основу.
